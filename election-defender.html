<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SURJ - Election Defender Pledge</title>
    <link
      href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/promise-polyfill/8.1.3/polyfill.min.js"
      integrity="sha512-jVOsf4v+eYZr+IkABBHh0mBbBn4BZn6t0W6yah9aKXgHK0tw++HH2yX8XObYImtg+B2Cytx/X3fFkiPums57BQ=="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/3.4.1/fetch.min.js"></script>
  </head>
  <body class="bg-gray-200 my-5">
    <div class="container mx-auto mt-10 max-w-3xl bg-white p-6 shadow rounded">
      <div class="header">
        <img
          src="images/vote-with-vision-defend-the-election.png"
          class="w-full"
          alt="Vote with Vision, Defend the Election"
        />
      </div>
      <div class="content mt-6">
        <div>
          <p>
            As an <strong>Election Defender</strong> I pledge to the following:
          </p>
          <ul class="mt-6">
            <li class="mt-3">
              <strong>Defend</strong>
              against any pressure from local, state, or national officials,
              vigilantes or protestors to not to count eligible votes even if it
              is clear which candidate will get the majority of the votes. This
              will include protest, de-escalation, or media pressure.
            </li>
            <li class="mt-2">
              <strong>Monitor</strong>
              the counting of votes to make sure they are counted as quickly as
              possible (while maintaining safety standards) so that results are
              not delayed.
            </li>
            <li class="mt-3">
              <strong>Encourage</strong>
              vote counters to be as cautious and conservative as possible when
              rejecting ballots for potential minor mistakes (these potential
              mistakes will vary depending on state voting protocols) and do so
              in a fair and transparent manner.
            </li>
            <li class="mt-3">
              <strong>Support</strong>
              and amplify clear communication about potentially confusing laws
              to voters or poll monitors.
            </li>
            <li class="mt-3">
              <strong>Recruit</strong>
              or participate as a poll monitor.
            </li>
            <li class="mt-3">
              <strong>Challenge</strong>
              any suggestion that the November 2020 election may be delayed or
              cancelled. Not only is this unconstitutional without congressional
              approval, it needlessly spreads fear and uncertainty.
            </li>
            <li class="mt-3">
              <strong>Amplify</strong>
              concerns or transparent communications when administrators
              encounter any technical problems or when any mistakes of any kind
              are made.
            </li>
            <li class="mt-3">
              <strong>Balance</strong>
              warning voters of the real risks to our democracy given the
              misinformation being spread, threats of not respecting election
              results and not having a peaceful transition of power; with our
              optimism that everyone’s vote still matters and still counts. We
              must not scare people about casting a ballot or suggest that their
              vote won’t count.
            </li>
            <li class="mt-3">
              <strong>Spread</strong>
              the word about which officials are responsible for counting the
              votes so there is a level of accountability.
            </li>
            <li class="mt-3">
              <strong>Confirm</strong>
              that early voting machines are stored in a safe and secure
              location, where they are watched at all times, and maintained to
              not lose any ballots.
            </li>
          </ul>
        </div>

        <div id="alert-success" class="mt-3 hidden">
          <div class="p-3 bg-green-200 rounded">
            <div class="alert-content">Success! Thank you for your pledge!</div>
          </div>
        </div>

        <div id="alert-error" class="mt-3 hidden">
          <div class="p-3 bg-red-200 rounded">
            <div>We're sorry, there was an error. Please try again later.</div>
          </div>
        </div>

        <div id="alert-info" class="mt-3 hidden">
          <div class="p-3 bg-blue-200 rounded">
            <div>Submitting your pledge...</div>
          </div>
        </div>

        <form name="submit-to-google-sheet" class="pledge-form mt-6">
          <input type="hidden" name="type" value="Election Defender" />
          <div class="md:flex md:items-center mb-6">
            <div class="md:w-1/3">
              <label
                class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4"
                for="first_name"
              >
                First Name
              </label>
            </div>
            <div class="md:w-2/3">
              <input
                name="first_name"
                id="first_name"
                type="text"
                placeholder="First Name"
                required
                class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-red-500"
              />
            </div>
          </div>
          <div class="md:flex md:items-center mb-6">
            <div class="md:w-1/3">
              <label
                class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4"
                for="last_name"
              >
                Last Name
              </label>
            </div>
            <div class="md:w-2/3">
              <input
                name="last_name"
                id="last_name"
                type="text"
                placeholder="Last Name"
                required
                class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-red-500"
              />
            </div>
          </div>
          <div class="md:flex md:items-center mb-6">
            <div class="md:w-1/3">
              <label
                class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4"
                for="email"
              >
                Email
              </label>
            </div>
            <div class="md:w-2/3">
              <input
                name="email"
                id="email"
                type="email"
                placeholder="you@email.com"
                required
                class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-red-500"
              />
            </div>
          </div>

          <div class="md:flex md:items-center">
            <div class="md:w-1/3"></div>
            <div class="md:w-2/3">
              <button
                class="shadow bg-red-500 hover:bg-red-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded"
                type="submit"
              >
                I Pledge to Defend the Election
              </button>
            </div>
          </div>
        </form>
      </div>
      <div class="footer"></div>
    </div>

    <p class="text-center text-gray-500 text-xs mt-3">
      &copy;2020 Showing Up for Racial Justice. All rights reserved.
    </p>

    <script>
      const scriptURL =
        "https://script.google.com/macros/s/AKfycbz-WfiPLnqi4ca5_geHc1y_0cWcmiE9_N0Wal7mJKSiF-__FzgS/exec";
      const form = document.forms["submit-to-google-sheet"];

      const alert_success = document.getElementById("alert-success");
      const alert_error = document.getElementById("alert-error");
      const alert_info = document.getElementById("alert-info");

      form.addEventListener("submit", (e) => {
        e.preventDefault();

        form.classList.add("hidden");
        alert_info.classList.remove("hidden");

        fetch(scriptURL, { method: "POST", body: new FormData(form) })
          .then((response) => {
            console.log("Success!", response);
            alert_info.classList.add("hidden");
            alert_success.classList.remove("hidden");
          })
          .catch((error) => {
            console.error("Error!", error.message);
            alert_info.classList.add("hidden");
            alert_error.classList.remove("hidden");
            form.classList.remove("hidden");
          });
      });
    </script>
  </body>
</html>
